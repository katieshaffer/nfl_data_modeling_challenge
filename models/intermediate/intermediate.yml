version: 2

models:
  - name: int_fantasy_points
    description: "Intermediate model aggregating player-level fantasy performance metrics."
    columns:
      - name: player_id
        description: "Unique identifier for the player."
      - name: player_name
        description: "Name of the player."
      - name: position
        description: "Player's position (e.g., QB, RB, WR, TE)."
      - name: recent_team
        description: "The player's most recent team."
      - name: season
        description: "Season year for the stats."
      - name: season_week
        description: "Week number in the season for these stats."
      - name: total_targets
        description: "Total number of passing targets the player received in the aggregated period."
      - name: total_fantasy_points
        description: "Sum of all standard fantasy points scored by the player."
      - name: total_fantasy_points_ppr
        description: "Sum of all fantasy points scored by the player under PPR (points per reception) rules."
      - name: games_played
        description: "Count of distinct games (weeks) the player participated in."
      - name: avg_fantasy_points_per_game
        description: "Average standard fantasy points scored by the player per game."
      - name: avg_fantasy_points_ppr_per_game
        description: "Average PPR fantasy points scored by the player per game."

  - name: int_red_zone_plays
    description: "Intermediate model extracting plays that occur in the red zone, excluding certain penalties and non-plays."
    columns:
      - name: play_id
        description: "Unique identifier for each play."
      - name: fantasy_player_id
        description: "Unique fantasy-related identifier for the player involved in the play."
      - name: fantasy_player_name
        description: "Name of the player involved in the play, relevant for fantasy purposes."
      - name: play_type
        description: "Type of play (e.g., run, pass)."
      - name: incomplete_pass
        description: "Flag (0/1) indicating if the pass was incomplete."
      - name: complete_pass
        description: "Flag (0/1) indicating if the pass was completed."
      - name: pass_attempt
        description: "Flag (0/1) indicating if a pass attempt was made."
      - name: rush
        description: "Flag (0/1) indicating if the play involved a rush."
      - name: rush_attempt
        description: "Flag (0/1) indicating a rushing attempt counted for stats."
      - name: touchdown
        description: "Flag (0/1) if the play resulted in a touchdown."
      - name: penalty
        description: "Flag (0/1) if a penalty occurred on this play."
      - name: penalty_type
        description: "Type of penalty called during this play, if any."

  - name: int_player_details
    description: "Intermediate model detailed player information"
    columns:
      - name: player_id
        description: "Unique identifier for the player."
      - name: player_name
        description: "Name of the player."
      - name: first_name
        description: "First name of the player."
      - name: last_name
        description: "Last name of the player."  
      - name: position
        description: "Player's position (e.g., QB, RB, WR, TE)."
      - name: position_group
        description: "High-level position group (e.g., skill players, QBs)"  
      - name: weight
        description: "Player's weight in pounds."
      - name: height
        description: "Player's height in inches."
      - name: age
        description: "Player's age "
      - name: birth_date
        description: "Player's birth date."
      - name: college
        description: "College the player attended."
      - name: entry_year
        description: "Year the player entered the league."
      - name: rookie_year
        description: "Playerâ€™s rookie season year."

  - name: int_game_result
    description: "This intermediate model processes and stores game results, including team details, scores, and the winning team."
    columns:
      - name: game_id
        description: "Unique identifier for each game."
      - name: game_date
        description: "The date on which the game took place."
      - name: season_type
        description: "Indicates the type of season (e.g., Regular, Postseason)."
      - name: home_team
        description: "The identifier of the home team."
      - name: away_team
        description: "The identifier of the away team."
      - name: total_home_score
        description: "Total points scored by the home team."
      - name: total_away_score
        description: "Total points scored by the away team."
      - name: winning_team
        description: "The identifier of the team that won the game. NULL if tied"

 
  - name: int_player_game_fantasy_points
    description: "This intermediate model calculates and stores fantasy points for players on a per-game basis. It includes player details, team and opponent information, and fantasy point calculations."
    columns:
      - name: player_id
        description: "Unique identifier for the player."
      - name: player_name
        description: "Full name of the player."
      - name: team
        description: "Team the player was part of during the game."
      - name: opponent_team
        description: "Opponent team the player faced in the game."
      - name: position
        description: "Player's position (e.g., QB, RB, WR, TE, etc.)."
      - name: position_group
        description: "Broader position category."
      - name: season
        description: "Season in which the game took place."
      - name: season_type
        description: "Type of season (e.g., Regular, Post season)."
      - name: season_week
        description: "Week of the season in which the game occurred."
      - name: fantasy_points
        description: "Total fantasy points scored by the player in the game (standard scoring format)."
      - name: fantasy_points_ppr
        description: "Total fantasy points scored by the player in the game using PPR (Points Per Reception) scoring format."

  - name: int_injuries
    description: "This intermediate model provides a detailed report on player injuries, including their status in medical reports and practice reports."
    columns:
      - name: season
        description: "The season in which the injury occurred."
      - name: week
        description: "The week of the season when the injury was reported."
      - name: game_type
        description: "Type of game (e.g., Regular, Post season)."
      - name: team
        description: "The team the injured player is associated with."
      - name: gsis_id
        description: "Unique identifier for the player in the GSIS system."
      - name: position
        description: "The player's position (e.g., QB, RB, WR, etc.)."
      - name: full_name
        description: "The player's full name."
      - name: first_name
        description: "The player's first name."
      - name: last_name
        description: "The player's last name."
      - name: report_primary_injury
        description: "Primary injury reported in the official injury report."
      - name: report_secondary_injury
        description: "Secondary injury reported in the official injury report."
      - name: report_status
        description: "Player's game availability status from the official injury report (e.g., Questionable, Out, Doubtful)."
      - name: practice_primary_injury
        description: "Primary injury affecting the player as reported during practice."
      - name: practice_secondary_injury
        description: "Secondary injury affecting the player as reported during practice."
      - name: practice_status
        description: "Player's practice participation status (e.g., Full, Limited, Did Not Practice)."
      - name: injury
        description: "Injured part of the body"
      - name: first_report
        description: "Is this the week when the injury was first reported."
      - name: duration
        description: "Duration of time (in weejs) the player was OUT because of the injury."

 

