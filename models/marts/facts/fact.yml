version: 2

models:
  - name: fct_fantasy_point_leaders
    description: "Fact table ranking players by their fantasy performance using both standard and PPR scoring."
    columns:
      - name: player_id
        description: "Unique identifier for the player."
      - name: player_name
        description: "Name of the player."
      - name: position
        description: "Player's position (e.g., QB, RB, WR, TE)."
      - name: season
        description: "Player's season"
      - name: season_week
        description: "Player's season week number."
      - name: recent_team
        description: "The player's most recent team."
      - name: total_fantasy_points
        description: "Total fantasy points scored by the player (standard scoring) across the considered period."
      - name: total_fantasy_points_ppr
        description: "Total fantasy points scored by the player under PPR (points per reception) scoring across the considered period."
      - name: games_played
        description: "Number of games (weeks) the player participated in."
        meta:
          metrics:
            total_games_played:
              type: sum
      - name: avg_fantasy_points_per_game
        description: "Average standard fantasy points per game played."
      - name: avg_fantasy_points_ppr_per_game
        description: "Average PPR fantasy points per game played."
      - name: standard_rank
        description: "The player's rank among all players based on total standard fantasy points."
      - name: ppr_rank
        description: "The player's rank among all players based on total PPR fantasy points."

  - name: fct_red_zone_player_stats
    description: "Fact table summarizing player performance within the red zone, capturing rushing and passing opportunities."
    columns:
      - name: fantasy_player_id
        description: "Fantasy-specific unique identifier for the player."
      - name: fantasy_player_name
        description: "Name of the player as recognized for fantasy purposes."
      - name: total_opportunities
        description: "Sum of a player's total red zone rush attempts and targets (pass attempts to them)."
      - name: total_rush_attempts
        description: "Total number of red zone rushing attempts by the player."
      - name: total_targets
        description: "Total number of red zone targets (pass attempts) directed to the player."
      - name: total_pass_completions
        description: "Total number of red zone passes completed to the player."

  - name: fct_qb_passing_efficiency
    description: "Fact table summarizing quarterback passing efficiency, including air yards, yards after catch, fantasy points, and passing performance metrics."
    columns:
      - name: player_id
        description: "Unique identifier for the player."
      - name: player_name
        description: "Full name of the quarterback."
      - name: team
        description: "Team the quarterback played for in the given season."
      - name: season
        description: "Season in which the performance data was recorded."
      - name: season_week
        description: "Week of the season in which the game occurred."
      - name: total_pass_yards
        description: "Total passing yards recorded by the quarterback."
      - name: total_air_yards
        description: "Total yards the ball traveled in the air before being caught."
      - name: total_yac
        description: "Total yards gained after the catch by receivers."
      - name: pass_attempts
        description: "Total number of passing attempts by the quarterback."
      - name: pass_completions
        description: "Total number of completed passes by the quarterback."
      - name: passing_first_downs
        description: "Total number of passing plays that resulted in a first down."
      - name: passing_epa
        description: "Expected Points Added (EPA) from passing plays."
      - name: total_fantasy_points
        description: "Total fantasy points accumulated by the quarterback."
      - name: fantasy_points_per_game
        description: "Average fantasy points per game."
      - name: air_yards_percentage
        description: "Percentage of total passing yards that were air yards."
      - name: fantasy_points_per_yard
        description: "Fantasy points per passing yard, indicating efficiency."

